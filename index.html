<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>liuliaixue</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="keywords" content="blog">
<meta property="og:type" content="website">
<meta property="og:title" content="liuliaixue">
<meta property="og:url" content="http://liuliaixue.top/index.html">
<meta property="og:site_name" content="liuliaixue">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="liuliaixue">
  
    <link rel="alternate" href="/atom.xml" title="liuliaixue" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">liuliaixue</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">当白云悠然褪去我已等不及登上高山仰望西方的天空但最美的不是夕阳是夜色如水月色流离</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Suche"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://liuliaixue.top"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-docker/postgres" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/03/25/docker/postgres/" class="article-date">
  <time datetime="2018-03-25T02:47:22.411Z" itemprop="datePublished">2018-03-25</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="postgres"><a href="#postgres" class="headerlink" title="postgres"></a>postgres</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo docker pull postgres</span><br><span class="line">sudo docker run --name postgres-&#123;ContainerName&#125; -e POSTGRES_PASSWORD=$&#123;PGPassword&#125; -e POSTGRES_USER=&#123;Username&#125; -p 5432:5432 -d postgres</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># login</span><br><span class="line">psql -U &#123;Username&#125; -h 127.0.0.1 -p 5432 </span><br><span class="line"></span><br><span class="line"># db interface</span><br><span class="line">postgres=#</span><br><span class="line"></span><br><span class="line"># change db</span><br><span class="line">postgres=# \c DB_NAME</span><br></pre></td></tr></table></figure>
<h2 id="useful-command"><a href="#useful-command" class="headerlink" title="useful command"></a>useful command</h2><p>sudo docker run –name postgres-tim -e POSTGRES_USER=timqian -p 5432:5432 -d postgres<br>psql -f ./tools/initDB.sql<br>select * from model_prop_log;</p>
<p>psql -U timqian -h 127.0.0.1 -p 5432 [-f initDB]</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://liuliaixue.top/2018/03/25/docker/postgres/" data-id="cjf67dm6e000cze4rhwm3brfb" class="article-share-link">Teilen</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-docker/how-to-install-memcached" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/03/25/docker/how-to-install-memcached/" class="article-date">
  <time datetime="2018-03-25T02:47:22.411Z" itemprop="datePublished">2018-03-25</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        
      
    </div>
    <footer class="article-footer">
      <a data-url="http://liuliaixue.top/2018/03/25/docker/how-to-install-memcached/" data-id="cjf67dm6a0009ze4rpdx0zjey" class="article-share-link">Teilen</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-docker/how-to-build-nodejs-app" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/03/25/docker/how-to-build-nodejs-app/" class="article-date">
  <time datetime="2018-03-25T02:47:22.411Z" itemprop="datePublished">2018-03-25</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="Dockerfile"><a href="#Dockerfile" class="headerlink" title="Dockerfile"></a>Dockerfile</h2><p>It is based on your net environment, mine t<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">FROM node:carbon</span><br><span class="line"></span><br><span class="line"># Create app directory</span><br><span class="line">WORKDIR /usr/src/app</span><br><span class="line"></span><br><span class="line"># Install app dependencies</span><br><span class="line"># A wildcard is used to ensure both package.json AND package-lock.json are copied</span><br><span class="line"># where available (npm@5+)</span><br><span class="line">COPY package*.json ./</span><br><span class="line"></span><br><span class="line">RUN npm install</span><br><span class="line"># If you are building your code for production</span><br><span class="line"># RUN npm install --only=production</span><br><span class="line"></span><br><span class="line"># Bundle app source</span><br><span class="line">COPY . .</span><br><span class="line"></span><br><span class="line">EXPOSE 8080</span><br><span class="line">CMD [ &quot;npm&quot;, &quot;start&quot; ]</span><br></pre></td></tr></table></figure></p>
<p>ref:<a href="https://nodejs.org/en/docs/guides/nodejs-docker-webapp/" target="_blank" rel="noopener">https://nodejs.org/en/docs/guides/nodejs-docker-webapp/</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://liuliaixue.top/2018/03/25/docker/how-to-build-nodejs-app/" data-id="cjf67dm5z0008ze4rwwlpf75c" class="article-share-link">Teilen</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-docker/mysql" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/03/25/docker/mysql/" class="article-date">
  <time datetime="2018-03-25T02:47:22.407Z" itemprop="datePublished">2018-03-25</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="mysql"><a href="#mysql" class="headerlink" title="mysql"></a>mysql</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"># sudo docker pull mysql</span><br><span class="line">$ sudo docker pull mysql:5.6</span><br><span class="line"></span><br><span class="line">$ sudo docker run -p 3306:3306 --name mymysql  -e MYSQL_ROOT_PASSWORD=123456 -d mysql</span><br><span class="line">$ sudo docker images</span><br><span class="line"></span><br><span class="line">$ mysql -h127.0.0.1 -p3306 -uroot -p123456</span><br><span class="line"></span><br><span class="line">$ sudo docker stop &#123;container-id &#125;</span><br><span class="line">$ sudo docker rm &#123;container-id &#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install mysql-client-core-5.7 </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># sudo apt-get remove --purge mysql-client-core-5.7   </span><br><span class="line"># sudo apt-get autoremove --purge mysql-client-core-5.7</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://liuliaixue.top/2018/03/25/docker/mysql/" data-id="cjf67dm6d000bze4rhpd5n71u" class="article-share-link">Teilen</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-docker/how-to-install-mongo" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/03/25/docker/how-to-install-mongo/" class="article-date">
  <time datetime="2018-03-25T02:47:22.407Z" itemprop="datePublished">2018-03-25</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="Docker-how-to-install-mongo"><a href="#Docker-how-to-install-mongo" class="headerlink" title="Docker:how to install mongo"></a>Docker:how to install mongo</h1><h2 id="install-mongo"><a href="#install-mongo" class="headerlink" title="install mongo"></a>install mongo</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo docker search mongo</span><br><span class="line">sudo docker pull mongo:3.2</span><br></pre></td></tr></table></figure>
<h2 id="show-images-list"><a href="#show-images-list" class="headerlink" title="show images list"></a>show images list</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo docker images</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">REPOSITORY          TAG                 IMAGE ID            CREATED             SIZE</span><br><span class="line">mongo               3.2                 c2a3c30cef05        9 days ago          301MB</span><br><span class="line">hello-world         latest              f2a91732366c        2 weeks ago         1.85kB</span><br></pre></td></tr></table></figure>
<h2 id="run-mongo"><a href="#run-mongo" class="headerlink" title="run mongo"></a>run mongo</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">docker run  --name some-mongo   -p 27017:27017   -d mongo:3.2</span><br><span class="line">sudo docker ps</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">CONTAINER ID        IMAGE               COMMAND                  CREATED             STATUS              PORTS                      NAMES</span><br><span class="line">ab77b469d968        mongo:3.2           &quot;docker-entrypoint.s…&quot;   25 seconds ago      Up 24 seconds       0.0.0.0:27017-&gt;27017/tcp   some-mongo</span><br></pre></td></tr></table></figure>
<h2 id="how-to-verify-mongo-running"><a href="#how-to-verify-mongo-running" class="headerlink" title="how to verify mongo running"></a>how to verify mongo running</h2><p>open <a href="http://localhost:27017/" target="_blank" rel="noopener">http://localhost:27017/</a>, will show</p>
<p>It looks like you are trying to access MongoDB over HTTP on the native driver port.</p>
<h2 id="using-docker-container-bash"><a href="#using-docker-container-bash" class="headerlink" title="using docker container bash"></a>using docker container bash</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">sudo docker exec -it &lt;container_ID&gt; sh</span><br><span class="line"># mongo</span><br><span class="line"># &gt; db.user.insert(&#123;name:&quot;alan&quot;&#125;);</span><br><span class="line"># &gt; db.user.find();</span><br><span class="line"># &gt; exit</span><br><span class="line"># exit</span><br></pre></td></tr></table></figure>
<h2 id="backup-mongo"><a href="#backup-mongo" class="headerlink" title="backup mongo"></a>backup mongo</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo docker cp &lt;container_ID&gt;:/data/db ./20170101</span><br><span class="line">ls 20170101/</span><br></pre></td></tr></table></figure>
<h2 id="stop-container"><a href="#stop-container" class="headerlink" title="stop container"></a>stop container</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo docker stop &lt;ocntainer_ID&gt;</span><br></pre></td></tr></table></figure>
<h2 id="some-useful-cmd"><a href="#some-useful-cmd" class="headerlink" title="some useful cmd"></a>some useful cmd</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo docker container ls -a // list all container, include stopped</span><br><span class="line">sudo docker start &lt;container_name&gt; start a stopped container</span><br></pre></td></tr></table></figure>
<h2 id="docker-cp"><a href="#docker-cp" class="headerlink" title="docker cp"></a>docker cp</h2><p>docker cp mycontainer：/opt/testnew/file.txt /opt/test/<br>docker cp /opt/test/file.txt mycontainer：/opt/testnew/</p>
<p>sudo docker cp /home/liuli/backup/dump/* cn-prod:/dump</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://liuliaixue.top/2018/03/25/docker/how-to-install-mongo/" data-id="cjf67dm6b000aze4rflrvb0q2" class="article-share-link">Teilen</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-nodejs/rabbitMQ-disconnect" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/03/25/nodejs/rabbitMQ-disconnect/" class="article-date">
  <time datetime="2018-03-25T02:43:31.117Z" itemprop="datePublished">2018-03-25</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="converter突然连接不上rabbitMQ-？"><a href="#converter突然连接不上rabbitMQ-？" class="headerlink" title="converter突然连接不上rabbitMQ ？"></a>converter突然连接不上rabbitMQ ？</h1><p>安装rabbitMQ后，以服务的方式启动（开机启动），某些时候回出现converter连接不上的问题</p>
<p>先在 windows-任务管理器-服务 中停用 RabbitMQ,以服务器的方式启动</p>
<pre><code>&quot;c:\Program Files\RabbitMQ Server\rabbitmq_server-3.6.4\sbin\rabbitmq-server.bat&quot; start
</code></pre><p>如果这种方式可以正常转换模型，那么你遇到了和作者相同的问题</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://liuliaixue.top/2018/03/25/nodejs/rabbitMQ-disconnect/" data-id="cjf67doz1000p1r4ro0skq0v2" class="article-share-link">Teilen</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-nodejs/变量提升" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/03/25/nodejs/变量提升/" class="article-date">
  <time datetime="2018-03-25T02:42:12.927Z" itemprop="datePublished">2018-03-25</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        try {
	function test_1() {
		print('hello');
		const print = (string) => { console.log(string); }
	}
	test_1();
} catch (error) {
	console.log('test_1', error)
}

try {
	function test_2() {
		print('hello');
		function print(string) { console.log(string); }
	}
	test_2();
} catch (error) {
	console.log('test_2', error)
}

try {
	function test_3() {
		print('hello');
	}
	const print = (string) => { console.log(string); }
	test_3();
} catch (error) {
	console.log('test_3', error)
}

try {
	function test_4() {
		print('hello');
	}
	test_4();
	const print = (string) => { console.log(string); }
} catch (error) {
	console.log('test_4', error)
}


try {
	function test_5() {
		print('hello');
	}
	setTimeout(() => {
		test_5()
	}, 100);
	const print = (string) => { console.log(string); }
} catch (error) {
	console.log('test_5', error)
}



      
    </div>
    <footer class="article-footer">
      <a data-url="http://liuliaixue.top/2018/03/25/nodejs/变量提升/" data-id="cjf67doz7000w1r4radfo9pfy" class="article-share-link">Teilen</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-nodejs/sleep" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/03/25/nodejs/sleep/" class="article-date">
  <time datetime="2018-03-25T02:42:12.927Z" itemprop="datePublished">2018-03-25</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        const tag = '[sleep.js]';

const sleepFn = async (ms) => {
	await new Promise(resolve => {
		setTimeout(() => { }, ms)
	})
}

const sleep = async () => {
	await new Promise(resolve => {
		setTimeout(() => { resolve()}, 2000)
	})
}

module.exports = {
	sleepFn,
	sleep
}

      
    </div>
    <footer class="article-footer">
      <a data-url="http://liuliaixue.top/2018/03/25/nodejs/sleep/" data-id="cjf67doz6000u1r4rl8hp2dkh" class="article-share-link">Teilen</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-nodejs/removeFolder" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/03/25/nodejs/removeFolder/" class="article-date">
  <time datetime="2018-03-25T02:42:12.927Z" itemprop="datePublished">2018-03-25</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        const fs = require('fs');
const path = require('path')
const folder = '/tmp/ttcc';
const filename = '/tmp/ttx/task.sql';
if(0) {
  const filenames = fs.readdirSync('/tmp/ttcc');
  console.log(filenames)
  for(let filename of filenames) {
    const file = path.resolve(folder, filename);
    console.log(file)
    fs.unlinkSync(file)
  }
  fs.rmdirSync(folder)
}

if(1){
  const folder = path.dirname(filename);
  console.log(folder)
  fs.unlinkSync(filename);
  fs.rmdirSync(folder)
}

      
    </div>
    <footer class="article-footer">
      <a data-url="http://liuliaixue.top/2018/03/25/nodejs/removeFolder/" data-id="cjf67doz2000q1r4r3i1ugevy" class="article-share-link">Teilen</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-nodejs/nodejs-fs" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/03/25/nodejs/nodejs-fs/" class="article-date">
  <time datetime="2018-03-25T02:42:12.927Z" itemprop="datePublished">2018-03-25</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>fs</p>
<h2 id="创建文件夹"><a href="#创建文件夹" class="headerlink" title="创建文件夹"></a>创建文件夹</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">const fs = require(&apos;fs&apos;);</span><br><span class="line">fs.mkdirSync(&apos;folder_name_1&apos;);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">fs.mkdir(&apos;folder_name_2&apos;, function(err) &#123;</span><br><span class="line">    console.log(err);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h2 id="删除文件夹"><a href="#删除文件夹" class="headerlink" title="删除文件夹"></a>删除文件夹</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">const fs = require(&apos;fs&apos;);</span><br><span class="line">fs.rmdirSync(&apos;folder_name_1&apos;);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">fs.rmdir(&apos;folder_name_2&apos;, function(err) &#123;</span><br><span class="line">    console.log(err);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h2 id="创建文件，删除文件"><a href="#创建文件，删除文件" class="headerlink" title="创建文件，删除文件"></a>创建文件，删除文件</h2><p>const buffer = Buffer.alloc(1024 * 1024);<br>fs.writeFileSync(‘file_1M’, buffer);<br>fs.unlinkSync(‘file_1M’)</p>
<h3 id="只读日志文件"><a href="#只读日志文件" class="headerlink" title="只读日志文件"></a>只读日志文件</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">const fs = require(&apos;fs&apos;);</span><br><span class="line">const accessLogfile = fs.createWriteStream(&apos;./access.log&apos;, &#123; flags: &apos;a&apos; &#125;); //访问日志</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">const test = () =&gt; &#123;</span><br><span class="line">	for (let i = 0; i &lt; 100; i++) &#123;</span><br><span class="line">		var now = new Date();</span><br><span class="line">		var time = now.getFullYear() + &apos;-&apos; + now.getMonth() + &apos;-&apos; + now.getDate() + &apos; &apos;</span><br><span class="line">			+ now.getHours() + &apos;:&apos; + now.getMinutes() + &apos;:&apos; + now.getSeconds();</span><br><span class="line">		accessLogfile.write(time + &apos;\r\n\r\n\r\n&apos;)</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	console.log(&apos;ccc&apos;);</span><br><span class="line">&#125;</span><br><span class="line">test();</span><br><span class="line"></span><br><span class="line">module.exports = test;</span><br></pre></td></tr></table></figure>
<h2 id="读取文件"><a href="#读取文件" class="headerlink" title="读取文件"></a>读取文件</h2><h2 id="复制文件"><a href="#复制文件" class="headerlink" title="复制文件"></a>复制文件</h2><h2 id="移动文件"><a href="#移动文件" class="headerlink" title="移动文件"></a>移动文件</h2>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://liuliaixue.top/2018/03/25/nodejs/nodejs-fs/" data-id="cjf67doyz000l1r4rmqu5spkz" class="article-share-link">Teilen</a>
      
      
    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><a class="page-number" href="/page/4/">4</a><a class="extend next" rel="next" href="/page/2/">weiter &raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/node-debugger-inspect/">node debugger inspect</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/nodejs-http-server/">nodejs http server</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/nodejs-node/">nodejs node</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/nodejs-node-require/">nodejs node require</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/pingpp-pingpp-支付/">pingpp pingpp 支付</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/powershell-environment-variables-env/">powershell environment variables env</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/node-debugger-inspect/" style="font-size: 10px;">node debugger inspect</a> <a href="/tags/nodejs-http-server/" style="font-size: 10px;">nodejs http server</a> <a href="/tags/nodejs-node/" style="font-size: 10px;">nodejs node</a> <a href="/tags/nodejs-node-require/" style="font-size: 10px;">nodejs node require</a> <a href="/tags/pingpp-pingpp-支付/" style="font-size: 10px;">pingpp pingpp 支付</a> <a href="/tags/powershell-environment-variables-env/" style="font-size: 10px;">powershell environment variables env</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archiv</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/03/">March 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/09/">September 2017</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">letzter Beitrag</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2018/03/25/docker/postgres/">(no title)</a>
          </li>
        
          <li>
            <a href="/2018/03/25/docker/how-to-install-memcached/">(no title)</a>
          </li>
        
          <li>
            <a href="/2018/03/25/docker/how-to-build-nodejs-app/">(no title)</a>
          </li>
        
          <li>
            <a href="/2018/03/25/docker/mysql/">(no title)</a>
          </li>
        
          <li>
            <a href="/2018/03/25/docker/how-to-install-mongo/">(no title)</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2018 Alan<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>



  </div>
</body>
</html>